/***************************************************************************//**
  @file		CAN.c
  @brief	HAL para comunicaciÃ³n CAN
  @author	Grupo 5
  @date		19 sep. 2022
 ******************************************************************************/

/*******************************************************************************
 * INCLUDE HEADER FILES
 ******************************************************************************/


/*******************************************************************************
 * CONSTANT AND MACRO DEFINITIONS USING #DEFINE
 ******************************************************************************/
//Instructiones
#define READ 0x03
#define WRITE 0x02
#define BIT_MODIFY 0x05

//Registros
#define CNF1_REG 0x2A
#define CNF2_REG 0x29
#define CNF3_REG 0x28

#define CANCTRL_REG 0x0F
#define CANINTF_REG 0x2C

/*******************************************************************************
 * ENUMERATIONS AND STRUCTURES AND TYPEDEFS
 ******************************************************************************/


/*******************************************************************************
 * VARIABLES WITH GLOBAL SCOPE
 ******************************************************************************/



/*******************************************************************************
 * FUNCTION PROTOTYPES FOR PRIVATE FUNCTIONS WITH FILE LEVEL SCOPE
 ******************************************************************************/


/*******************************************************************************
 * ROM CONST VARIABLES WITH FILE LEVEL SCOPE
 ******************************************************************************/



/*******************************************************************************
 * STATIC VARIABLES AND CONST VARIABLES WITH FILE LEVEL SCOPE
 ******************************************************************************/



/*******************************************************************************
 *******************************************************************************
                        GLOBAL FUNCTION DEFINITIONS
 *******************************************************************************
 ******************************************************************************/
void CANInit(){
    CAN_bit_modify()

    //Poner en config mode ===> poner REQOP de CANCTRL en 100. 
    
    //Limpiar TXflag y RxFlag ===> Bits 2 y 0 del CANINTF
    
    //Setear (Pag 24):
    // BRP (CNF1)
    // PRSEG (CNF2)
    // PHSEG1(CNF2)
    // PHSEG2(CNF3)
    // SJW(CNF1)

    //

    // CNF1: baudrateprescaler=3 (por consigna 125kbits/seg)

}

/*******************************************************************************
 *******************************************************************************
                        LOCAL FUNCTION DEFINITIONS
 *******************************************************************************
 ******************************************************************************/





